---
interface Props {
    title: string;
    price: string;
    active?: boolean;
}
const { title, price, active } = Astro.props;
---

<script>
    const tabs = document.querySelectorAll("[data-tab-target]");
    const tabContents = document.querySelectorAll("[data-tab-content]");

    tabs.forEach((tab) => {
        tab.addEventListener("click", () => {
            const target = document.querySelector(tab.dataset.tabTarget);
            tabContents.forEach((tabContent) => {
                tabContent.classList.remove("active");
            });
            tabs.forEach((tab) => {
                tab.classList.remove("active");
            });
            tab.classList.add("active");
            target.classList.add("active");
        });
    });
</script>

<div class="w-full sm:w-9/12 md:w-7/12 lg:w-4/12">
    <div
        class:list={[
            "single_pricing text-center mt-8 mx-3",
            active ? "active" : "",
        ]}
    >
        <div class="pricing_title relative inline-block">
            <h4 class="title group-hover:text-white">{title}</h4>
            <svg
                xmlns="http://www.w3.org/2000/svg"
                width="112"
                height="110"
                viewBox="0 0 112 110"
            >
                <path
                    class="services_shape"
                    id="Polygon_15"
                    data-name="Polygon 15"
                    d="M51.2,2.329a11,11,0,0,1,9.6,0L96.15,19.478a11,11,0,0,1,5.927,7.466l8.76,38.665a11,11,0,0,1-2.1,9.258l-24.508,30.96A11,11,0,0,1,75.6,110H36.4a11,11,0,0,1-8.625-4.173L3.266,74.867a11,11,0,0,1-2.1-9.258l8.76-38.665a11,11,0,0,1,5.927-7.466Z"
                    fill="#f94f4f"></path>
            </svg>
        </div>
        <div class="pricing_content mt-6">
            <span class="pricing_price font-bold text-black text-4xl"
                >{price}</span
            >
            <p class="mt-4 leading-9">
                Lorem ipsum dolor sit am consetetur sadi aliquyam erat sed diam
                voluptua vero eos accusam et justo duo dolores
            </p>
            <a href="" class="main-btn pricing_btn">Choose Plan</a>
        </div>
    </div>
    <!-- single pricing -->
</div>

<style>
    .main-btn {
        @apply inline-block font-medium text-base text-center rounded-full text-white cursor-pointer z-10 transition-all duration-300 bg-black overflow-hidden relative px-10 py-4 hover:bg-opacity-80 hover:text-white;
        border-top-right-radius: 0px;
    }

    .pricing_menu .active {
        @apply bg-theme-color text-white;
    }
    .pricing_content .tab-pane {
        display: none;
    }
    .pricing_content .tab-pane.active {
        display: block;
    }

    .single_pricing {
        @apply border-2 border-dashed border-border-color rounded-xl p-6 md:p-10 transition-all duration-300 hover:border-theme-color hover:shadow;
    }
    .single_pricing.active {
        @apply border-theme-color shadow;
    }
    .pricing_title .title {
        @apply absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 font-semibold text-xl text-black transition-all duration-300;
    }
    .single_pricing.active .pricing_title .title {
        @apply text-white;
    }
    .single_pricing.active .services_shape,
    .single_pricing:hover .services_shape {
        @apply fill-current text-theme-color;
    }
    .pricing_btn {
        @apply py-3 px-6 text-body-color mt-8 rounded-md;
        background-color: #fff1f1;
    }
    .single_pricing:hover .pricing_btn,
    .single_pricing.active .pricing_btn {
        @apply bg-theme-color text-white;
    }
</style>
